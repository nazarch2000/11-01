# Домашнее задание к занятию 11.1. «Базы данных, их типы»

---

### Задание 1. СУБД

### Кейс
Крупная строительная компания, которая также занимается проектированием и девелопментом, решила создать 
правильную архитектуру для работы с данными. Ниже представлены задачи, которые необходимо решить для
каждой предметной области. 

Какие типы СУБД, на ваш взгляд, лучше всего подойдут для решения этих задач и почему? 
 
1.1. Бюджетирование проектов с дальнейшим формированием финансовых аналитических отчётов и прогнозирования рисков.
СУБД должна гарантировать целостность и чёткую структуру данных.

# Обычная SQL подойдет.

1.1.* Хеширование стало занимать длительно время, какое API можно использовать для ускорения работы? 

# MongoDB предоставляет API и драйверы для дюжины языков программирования, а также обширную документацию. Унифицированный API запросов MongoDB позволяет легко работать с любым типом данных, таким как временные ряды, массивы и геопространственные данные.

1.2. Под каждый девелоперский проект создаётся отдельный лендинг, и все данные по лидам стекаются в CRM к 
маркетологам и менеджерам по продажам. Какой тип СУБД лучше использовать для лендингов и для CRM? 
СУБД должны быть гибкими и быстрыми.

# Для CRM лучше всего использовать реляционную СУБД к примеру MySQL. Для любого бизнеса, использующего CRM, база данных, связанная с клиентом, очень важна для придания стратегии и тактики, основанной на клиентах. С помощью языка SQL можно провести аналитику поведения клиента, оптимизировать бизнес-процессы и т.д. 

# Для Лендинга хранение информации в базе данных SQLite. В SQLite данные хранятся в файлах. В отличие от более «серьезных» БД таких, как MySQL, например, сервер не требуется.

1.2.* Можно ли эту задачу закрыть одной СУБД? И если да, то какой именно СУБД и какой реализацией?

# MySQL. К примеру подключив лендинг к этой базе данных, можно делать различные запросы, выборки и т.д. К примеру отправить всем пользователям которые подписались на рассылку или которые давно не заходили на сайт сообщение на почту, завлекающее на посещение нашего веб ресурса.

1.3. Отдел контроля качества решил создать базу по корпоративным нормам и правилам, обучающему материалу 
и так далее, сформированную согласно структуре компании. СУБД должна иметь простую и понятную структуру.

# Документо-ориентированные СУБД подойдет, так как все структурировано в виде документов.

1.3.* Можно ли под эту задачу использовать уже существующую СУБД из задач выше и если да, то как лучше это 
реализовать?

# MySQL, можно просто хранить информацию в виде json или xml объектах, будет похоже на структуру документо-ориентированной СУБД.

1.4. Департамент логистики нуждается в решении задач по быстрому формированию маршрутов доставки материалов 
по объектам и распределению курьеров по маршрутам с доставкой документов. СУБД должна уметь быстро работать
со связями.

# Использование реляционной базы данных SQL.

1.4.* Можно ли к этой СУБД подключить отдел закупок или для них лучше сформировать свою СУБД в связке с СУБД 
логистов?

# Можно.

1.5.* Можно ли все перечисленные выше задачи решить, используя одну СУБД? Если да, то какую именно?

# Модульная база данных или база данных с открытым исходным кодом, чтобы подстроить ее под себя.

*Приведите ответ в свободной форме.*

---

### Задание 2. Транзакции

2.1. Пользователь пополняет баланс счёта телефона, распишите пошагово, какие действия должны произойти для того, чтобы 
транзакция завершилась успешно. Ориентируйтесь на шесть действий.

# Если он пополняет через приложение банка:

# 1. Ввожу пароль в приложение банка, идет загрузка, получаю информацию с сервера(баланс, информацию по картам и т.д.), которая была взята с БД.
# 2. Захожу в раздел "Мобильная связь". Банк отправляет запрос на перевод средств через некую API Tele2 MTC или Билайна.
# 3. В БД идет рассчет current_balance-sum_perevoda=current_balance 
# 4. После перевода в БД оператора также проводится рассчет, обновляется поле с балансом телефона. 
# 5. Отправялется через сеть на ближайшую телефонную вышку смс о пополнении мобильного счета.

2.1.* Какие действия должны произойти, если пополнение счёта телефона происходило бы через автоплатёж?

# Есть таблица в бд айди пользователя и с датой платежа, каждый день в 23:59 создается запрос все пользователи у которых заканчивается тариф, в бд пользователи проверяется подписан ли пользователь на услугу "Автоплатеж", если да то в отправляется через API в банк запрос на пополнение. В БД банка сверяется current_balance с суммой платежа, если баланс меньше  - Ошибка "Недостаточно средств" если все ок, то у пользователя идет рассчет в БД оператора в поле tariff_end_date+1month, тариф продлен на месяц.  

---

### Задание 3. SQL vs NoSQL

3.1. Напишите пять преимуществ SQL-систем по отношению к NoSQL. 

# 1. Обладают жесткой структурой, а это позволяет переносить одну и ту же БД на разные СУБД
# 2. Данные хранятся структурированно.
# 3. Обеспечивают целостность данных.
# 4. Структура не подвержена частым изменением.
# 5. Если организация не находится в стадии экспоненциального роста, вероятно, не найдётся убедительных причин использовать БД, которая позволяет достаточно вольно обращаться с типами данных и нацелена на обработку огромных объёмов информации.

3.1.* Какие, на ваш взгляд, преимущества у NewSQL систем перед SQL и NoSQL.

# NewSQL — это уникальная система баз данных, которая сочетает в себе совместимость с ACID и горизонтальное масштабирование . Система базы данных стремится сохранить лучшее из обоих миров. Транзакции на основе OLTP и высокая производительность NoSQL сочетаются в одном решении.

---

### Задание 4. Кластеры

Необходимо производить большое количество вычислений при работе с огромным количеством данных, под эту задачу 
выделено 1000 машин. 

На основе какого критерия будете выбирать тип СУБД и какая модель *распределённых вычислений* 
здесь справится лучше всего и почему?

# Если имеем дело с небольшими транзакциями то реляционная СУБД подойдет. Один из признаков, что имеет смысл подумать не о реляционных СУБД, это такой факт как необходимость часто обновлять значения в одних и тех же строках.

# Если предполагается хранить не структурируемые данные, или наоборот очень простые структуры типа ключ-значение, то лучше посмотреть в сторону документных СУБД.

*Приведите ответ в свободной форме.*

---

Задания,помеченные звёздочкой, — дополнительные, то есть не обязательные к выполнению, и никак не повлияют на получение вами зачёта по этому домашнему заданию. Вы можете их выполнить, если хотите глубже разобраться в материале.
